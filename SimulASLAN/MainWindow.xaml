<Window x:Class="WpfApp1.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:helix="clr-namespace:HelixToolkit.Wpf;assembly=HelixToolkit.Wpf"
        Title="Istanbul Drone Simulator" Height="720" Width="1280" Background="#111">

    <Grid>
        <helix:HelixViewport3D x:Name="viewPort" 
                               ShowCoordinateSystem="True" 
                               ZoomExtentsWhenLoaded="False"
                               IsMoveEnabled="False" 
                               IsPanEnabled="False" 
                               IsRotationEnabled="False">

            <helix:HelixViewport3D.Camera>
                <PerspectiveCamera x:Name="cam" Position="0, -30, 30" LookDirection="0, 30, -30" UpDirection="0, 0, 1"/>
            </helix:HelixViewport3D.Camera>

            <helix:SunLight/>

            <ModelVisual3D x:Name="droneObject">
                <ModelVisual3D.Transform>
                    <Transform3DGroup>
                        <RotateTransform3D>
                            <RotateTransform3D.Rotation>
                                <AxisAngleRotation3D x:Name="rotPitch" Axis="1,0,0"/>
                            </RotateTransform3D.Rotation>
                        </RotateTransform3D>
                        <RotateTransform3D>
                            <RotateTransform3D.Rotation>
                                <AxisAngleRotation3D x:Name="rotRoll" Axis="0,1,0"/>
                            </RotateTransform3D.Rotation>
                        </RotateTransform3D>
                        <RotateTransform3D>
                            <RotateTransform3D.Rotation>
                                <AxisAngleRotation3D x:Name="rotYaw" Axis="0,0,1"/>
                            </RotateTransform3D.Rotation>
                        </RotateTransform3D>
                        <TranslateTransform3D x:Name="transPos"/>
                    </Transform3DGroup>
                </ModelVisual3D.Transform>
            </ModelVisual3D>

        </helix:HelixViewport3D>

        <!-- HUD Overlay -->
        <Border Background="#88000000" HorizontalAlignment="Left" VerticalAlignment="Top" Margin="20" Padding="15" CornerRadius="8" IsHitTestVisible="False">
            <StackPanel>
                <TextBlock x:Name="lblFlightData" Text="FLIGHT DATA" FontWeight="Bold" FontSize="14" Margin="0,0,0,5" Foreground="White"/>
                <TextBlock x:Name="txtCoords" Text="Location: ..." Foreground="Cyan" FontSize="11" Margin="0,0,0,5"/>

                <!-- Controls Help Text -->
                <TextBlock x:Name="lblCtrlThrottle" Text="SPACE: Throttle | Z: Turbo Boost" Foreground="White"/>
                <TextBlock x:Name="lblCtrlImpulse" Text="B: SUPER IMPULSE (10x Kick)" Foreground="White"/>
                <TextBlock x:Name="lblCtrlPitch" Text="W/S: Pitch | A/D: Roll" Foreground="White"/>
                <TextBlock x:Name="lblCtrlYaw" Text="Q/E: Yaw" Foreground="White"/>
                <TextBlock x:Name="lblCtrlCam" Text="ARROWS: Move Camera" Foreground="#AAA" Margin="0,5,0,0"/>

                <Separator Opacity="0.5" Margin="5"/>
                <TextBlock x:Name="txtTelemetry" FontFamily="Consolas" Foreground="LimeGreen" Text="Initializing..."/>
            </StackPanel>
        </Border>

        <!-- Loading Overlay -->
        <Grid x:Name="LoadingOverlay" Background="#EE000000" Visibility="Visible">
            <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                <TextBlock x:Name="lblInitTitle" Text="INITIALIZING MISSION" Foreground="White" FontSize="24" FontWeight="Bold" HorizontalAlignment="Center"/>
                <TextBlock x:Name="lblInitWait" Text="Waiting for Terrain Data..." Foreground="Gray" FontSize="14" Margin="0,5,0,20" HorizontalAlignment="Center"/>
                <ProgressBar IsIndeterminate="True" Width="400" Height="6"/>
                <TextBlock x:Name="txtStatus" Text="Initializing..." Foreground="#AAA" Margin="0,15,0,0" HorizontalAlignment="Center"/>
            </StackPanel>
        </Grid>
    </Grid>
</Window>